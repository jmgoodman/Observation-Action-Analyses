<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<pre class="code">
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',1);">   1</a></span><span class="linemarker">   </span><span class="line"><span class="keyword">function</span> [<span class="var type2" id="S2T1U3">joints</span> <span class="var type2" id="S3T2U4">angles</span>] = calculateJointPhalanxMedialis(<span class="mxinfo" id="T1:U1"><span class="var type1" id="S2T1U7">joints</span></span>,<span class="mxinfo" id="T2:U2"><span class="var type1" id="S3T2U8">angles</span></span>,<span class="var type1" id="S4T3U9">fingerradius</span>,<span class="var type1" id="S5T3U10">ab</span>,<span class="var type1" id="S6T3U11">bc</span>)  <span class="comment">%#eml</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',2);">   2</a></span><span class="linemarker">   </span><span class="line"><span class="comment">%##########################################################################</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',3);">   3</a></span><span class="linemarker">   </span><span class="line"></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',4);">   4</a></span><span class="linemarker">   </span><span class="line"><span class="mxinfo" id="T4:U40"><span class="mxinfo" id="T4:U8"><span class="var type1" id="S7T4U14">numJoints</span></span>=<span class="mxinfo" id="T4:U42">size(<span class="var type2" id="S2T1U17">joints</span>,1)</span></span>;</span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',5);">   5</a></span><span class="linemarker">   </span><span class="line"></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',6);">   6</a></span><span class="linemarker">   </span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S9T4U21">ff</span>=<span class="mxinfo" id="T4:U43">1:<span class="var type2" id="S7T4U24">numJoints</span></span>;</span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',7);">   7</a></span><span class="linemarker">   </span><span class="line">    </span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',8);">   8</a></span><span class="linemarker">   </span><span class="line">    <span class="keyword">if</span> <span class="mxinfo" id="T6:U44">~<span class="mxinfo" id="T6:U45">isnan(<span class="mxinfo" id="T7:U46"><span class="var type2" id="S2T1U31">joints</span>(<span class="var type2" id="S9T4U32">ff</span>,2,1)</span>)</span></span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',9);">   9</a></span><span class="linemarker">   </span><span class="line">        <span class="comment">% SENSOR DATA</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',10);">  10</a></span><span class="linemarker">   </span><span class="line">        <span class="mxinfo" id="T5:U47"><span class="mxinfo" id="T5:U10"><span class="var type1" id="S11T5U37">A</span></span>=<span class="mxinfo" id="T5:U49">squeeze(<span class="mxinfo" id="T8:U50"><span class="var type2" id="S2T1U41">joints</span>(<span class="var type2" id="S9T4U42">ff</span>,7,1:3)</span>)</span></span>; <span class="comment">% coordinates of joint-meta-carpale of finger ff</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',11);">  11</a></span><span class="linemarker">   </span><span class="line">        <span class="mxinfo" id="T5:U51"><span class="mxinfo" id="T5:U11"><span class="var type1" id="S13T5U49">W</span></span>=<span class="mxinfo" id="T5:U53">squeeze(<span class="mxinfo" id="T8:U54"><span class="var type2" id="S2T1U53">joints</span>(<span class="var type2" id="S9T4U54">ff</span>,2,1:3)</span>)</span></span>; <span class="comment">% coordinates of sensor at finger ff</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',12);">  12</a></span><span class="linemarker">   </span><span class="line">        <span class="mxinfo" id="T5:U55"><span class="mxinfo" id="T5:U12"><span class="var type1" id="S14T5U61">U</span></span>=<span class="mxinfo" id="T5:U57">squeeze(<span class="mxinfo" id="T8:U58"><span class="var type2" id="S2T1U65">joints</span>(<span class="var type2" id="S9T4U66">ff</span>,3,1:3)</span>)</span></span>; <span class="comment">% coordinates of point U </span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',13);">  13</a></span><span class="linemarker">   </span><span class="line">        <span class="mxinfo" id="T4:U59"><span class="mxinfo" id="T4:U13"><span class="var type1" id="S15T4U73">AB</span></span>=<span class="mxinfo" id="T4:U61"><span class="var type2" id="S5T3U75">ab</span>(<span class="var type2" id="S9T4U76">ff</span>)</span></span>; <span class="comment">% length phalanges proximalis</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',14);">  14</a></span><span class="linemarker">   </span><span class="line">        <span class="mxinfo" id="T4:U62"><span class="mxinfo" id="T4:U14"><span class="var type1" id="S16T4U79">BC</span></span>=<span class="mxinfo" id="T4:U64"><span class="var type2" id="S6T3U81">bc</span>(<span class="var type2" id="S9T4U82">ff</span>)</span></span>; <span class="comment">% length phalanges medialis</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',15);">  15</a></span><span class="linemarker">   </span><span class="line"></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',16);">  16</a></span><span class="linemarker">   </span><span class="line">        <span class="comment">%JOINTS</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',17);">  17</a></span><span class="linemarker">   </span><span class="line">        <span class="mxinfo" id="T5:U65"><span class="mxinfo" id="T5:U15"><span class="var type1" id="S17T5U85">cp1</span></span>=<span class="mxinfo" id="T5:U67">cross(<span class="mxinfo" id="T5:U68"><span class="var type2" id="S11T5U89">A</span>-<span class="var type2" id="S14T5U90">U</span></span>,<span class="mxinfo" id="T5:U71"><span class="var type2" id="S11T5U92">A</span>-<span class="var type2" id="S13T5U93">W</span></span>)</span></span>; <span class="comment">% Plane 1 (points: A, C and W)</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',18);">  18</a></span><span class="linemarker">   </span><span class="line">        <span class="mxinfo" id="T5:U74"><span class="mxinfo" id="T5:U16"><span class="var type1" id="S19T5U96">n1</span></span>=<span class="mxinfo" id="T5:U76"><span class="var type2" id="S17T5U98">cp1</span>/<span class="mxinfo" id="T4:U78">norm(<span class="var type2" id="S17T5U101">cp1</span>)</span></span></span>;  <span class="comment">%normal vector on plane ACW</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',19);">  19</a></span><span class="linemarker">   </span><span class="line"></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',20);">  20</a></span><span class="linemarker">   </span><span class="line">        <span class="mxinfo" id="T5:U80"><span class="mxinfo" id="T5:U17"><span class="var type1" id="S21T5U104">Uh</span></span>=<span class="mxinfo" id="T5:U82"><span class="var type2" id="S14T5U106">U</span>+<span class="var type2" id="S19T5U107">n1</span></span></span>;  <span class="comment">%help point normal to C on place ACW</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',21);">  21</a></span><span class="linemarker">   </span><span class="line"></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',22);">  22</a></span><span class="linemarker">   </span><span class="line">        <span class="mxinfo" id="T5:U85"><span class="mxinfo" id="T5:U18"><span class="var type1" id="S22T5U110">cp3</span></span>=<span class="mxinfo" id="T5:U87">cross(<span class="mxinfo" id="T5:U88"><span class="var type2" id="S21T5U114">Uh</span>-<span class="var type2" id="S14T5U115">U</span></span>,<span class="mxinfo" id="T5:U91"><span class="var type2" id="S13T5U117">W</span>-<span class="var type2" id="S14T5U118">U</span></span>)</span></span>;</span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',23);">  23</a></span><span class="linemarker">   </span><span class="line">        <span class="mxinfo" id="T5:U94"><span class="mxinfo" id="T5:U19"><span class="var type1" id="S23T5U121">n3</span></span>=<span class="mxinfo" id="T5:U96"><span class="var type2" id="S22T5U123">cp3</span>/<span class="mxinfo" id="T4:U98">norm(<span class="var type2" id="S22T5U126">cp3</span>)</span></span></span>;</span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',24);">  24</a></span><span class="linemarker">   </span><span class="line">        <span class="mxinfo" id="T5:U100"><span class="mxinfo" id="T5:U20"><span class="var type1" id="S24T5U129">C</span></span>=<span class="mxinfo" id="T5:U102"><span class="var type2" id="S14T5U131">U</span>+<span class="mxinfo" id="T5:U104"><span class="var type2" id="S23T5U133">n3</span>*<span class="mxinfo" id="T4:U106"><span class="var type2" id="S4T3U135">fingerradius</span>(<span class="var type2" id="S9T4U136">ff</span>)</span></span></span></span>;</span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',25);">  25</a></span><span class="linemarker">   </span><span class="line">        <span class="mxinfo" id="T5:U107"><span class="mxinfo" id="T5:U21"><span class="var type1" id="S25T5U139">T</span></span>=<span class="mxinfo" id="T5:U109"><span class="var type2" id="S13T5U141">W</span>+<span class="mxinfo" id="T5:U111"><span class="var type2" id="S23T5U143">n3</span>*<span class="mxinfo" id="T4:U113"><span class="var type2" id="S4T3U145">fingerradius</span>(<span class="var type2" id="S9T4U146">ff</span>)</span></span></span></span>;</span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',26);">  26</a></span><span class="linemarker">   </span><span class="line"></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',27);">  27</a></span><span class="linemarker">   </span><span class="line">        <span class="mxinfo" id="T5:U114"><span class="mxinfo" id="T5:U22"><span class="var type1" id="S26T5U149">ac</span></span>=<span class="mxinfo" id="T5:U116"><span class="var type2" id="S24T5U151">C</span>-<span class="var type2" id="S11T5U152">A</span></span></span>;</span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',28);">  28</a></span><span class="linemarker">   </span><span class="line">        <span class="mxinfo" id="T4:U119"><span class="mxinfo" id="T4:U23"><span class="var type1" id="S27T4U155">AC</span></span>=<span class="mxinfo" id="T4:U121">norm(<span class="mxinfo" id="T5:U122"><span class="var type2" id="S24T5U159">C</span>-<span class="var type2" id="S11T5U160">A</span></span>)</span></span>;</span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',29);">  29</a></span><span class="linemarker">   </span><span class="line"></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',30);">  30</a></span><span class="linemarker">   </span><span class="line">        <span class="comment">%Rectancle</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',31);">  31</a></span><span class="linemarker">   </span><span class="line">        <span class="mxinfo" id="T4:U125"><span class="mxinfo" id="T4:U24"><span class="var type1" id="S28T4U163">alpha</span></span>=<span class="mxinfo" id="T4:U127">acos(<span class="mxinfo" id="T4:U128">(<span class="mxinfo" id="T4:U129"><span class="mxinfo" id="T4:U130"><span class="mxinfo" id="T4:U131"><span class="var type2" id="S15T4U171">AB</span>^<span class="mxinfo" id="T4:U133">2</span></span>+<span class="mxinfo" id="T4:U134"><span class="var type2" id="S27T4U174">AC</span>^<span class="mxinfo" id="T4:U136">2</span></span></span>-<span class="mxinfo" id="T4:U137"><span class="var type2" id="S16T4U177">BC</span>^<span class="mxinfo" id="T4:U139">2</span></span></span>)/(<span class="mxinfo" id="T4:U140"><span class="mxinfo" id="T4:U141"><span class="mxinfo" id="T4:U142">2</span>*<span class="var type2" id="S15T4U183">AB</span></span>*<span class="var type2" id="S27T4U184">AC</span></span>)</span>)</span></span>;</span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',32);">  32</a></span><span class="linemarker">   </span><span class="line">        <span class="mxinfo" id="T4:U145"><span class="mxinfo" id="T4:U25"><span class="var type1" id="S30T4U187">h</span></span>=<span class="mxinfo" id="T4:U147"><span class="mxinfo" id="T4:U148">sin(<span class="var type2" id="S28T4U191">alpha</span>)</span>*<span class="var type2" id="S15T4U192">AB</span></span></span>;</span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',33);">  33</a></span><span class="linemarker">   </span><span class="line">        <span class="mxinfo" id="T4:U151"><span class="mxinfo" id="T4:U26"><span class="var type1" id="S32T4U195">q</span></span>=<span class="mxinfo" id="T4:U153"><span class="mxinfo" id="T4:U154">cos(<span class="var type2" id="S28T4U199">alpha</span>)</span>*<span class="var type2" id="S15T4U200">AB</span></span></span>;</span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',34);">  34</a></span><span class="linemarker">   </span><span class="line">        <span class="mxinfo" id="T5:U157"><span class="mxinfo" id="T5:U27"><span class="var type1" id="S34T5U203">eac</span></span>=<span class="mxinfo" id="T5:U159"><span class="var type2" id="S26T5U205">ac</span>/<span class="var type2" id="S27T4U206">AC</span></span></span>;</span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',35);">  35</a></span><span class="linemarker">   </span><span class="line">        <span class="mxinfo" id="T5:U162"><span class="mxinfo" id="T5:U28"><span class="var type1" id="S35T5U209">L</span></span>=<span class="mxinfo" id="T5:U164"><span class="var type2" id="S11T5U211">A</span>+<span class="mxinfo" id="T5:U166"><span class="var type2" id="S34T5U213">eac</span>*<span class="var type2" id="S32T4U214">q</span></span></span></span>;</span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',36);">  36</a></span><span class="linemarker">   </span><span class="line">        <span class="mxinfo" id="T4:U169"><span class="mxinfo" id="T4:U29"><span class="var type1" id="S36T4U217">ang</span></span>=<span class="mxinfo" id="T4:U171">abs(<span class="mxinfo" id="T7:U172">acos((<span class="mxinfo" id="T7:U173"><span class="mxinfo" id="T7:U174">dot(<span class="var type2" id="S26T5U226">ac</span>,<span class="mxinfo" id="T5:U176"><span class="var type2" id="S14T5U228">U</span>-<span class="var type2" id="S13T5U229">W</span></span>)</span>/(<span class="mxinfo" id="T4:U179"><span class="mxinfo" id="T4:U180">norm(<span class="var type2" id="S26T5U234">ac</span>)</span>*<span class="mxinfo" id="T4:U182">norm(<span class="mxinfo" id="T5:U183"><span class="var type2" id="S14T5U238">U</span>-<span class="var type2" id="S13T5U239">W</span></span>)</span></span>)</span>))</span>)</span></span>;</span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',37);">  37</a></span><span class="linemarker">   </span><span class="line">        <span class="keyword">if</span> <span class="mxinfo" id="T6:U186"><span class="var type2" id="S36T4U243">ang</span>&lt;= <span class="mxinfo" id="T4:U188">0.12</span></span> <span class="comment">% </span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',38);">  38</a></span><span class="linemarker">   </span><span class="line">            <span class="mxinfo" id="T5:U189"><span class="mxinfo" id="T5:U30"><span class="var type1" id="S39T5U247">B</span></span>=<span class="var type2" id="S35T5U248">L</span></span>;</span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',39);">  39</a></span><span class="linemarker">   </span><span class="line">        <span class="keyword">else</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',40);">  40</a></span><span class="linemarker">   </span><span class="line"></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',41);">  41</a></span><span class="linemarker">   </span><span class="line">            <span class="mxinfo" id="T5:U192"><span class="mxinfo" id="T5:U31"><span class="var type1" id="S40T5U252">Lh</span></span>=<span class="mxinfo" id="T5:U194"><span class="var type2" id="S35T5U254">L</span>+<span class="var type2" id="S19T5U255">n1</span></span></span>;  <span class="comment">%vector with lenght h normal to point l in plane 1</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',42);">  42</a></span><span class="linemarker">   </span><span class="line"></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',43);">  43</a></span><span class="linemarker">   </span><span class="line">            <span class="comment">% Plane 2 (points: A, L und Lh)</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',44);">  44</a></span><span class="linemarker">   </span><span class="line">            <span class="mxinfo" id="T5:U197"><span class="mxinfo" id="T5:U32"><span class="var type1" id="S41T5U258">cp2</span></span>=<span class="mxinfo" id="T5:U199">cross(<span class="mxinfo" id="T5:U200"><span class="var type2" id="S40T5U262">Lh</span>-<span class="var type2" id="S11T5U263">A</span></span>,<span class="mxinfo" id="T5:U203"><span class="var type2" id="S35T5U265">L</span>-<span class="var type2" id="S11T5U266">A</span></span>)</span></span>;</span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',45);">  45</a></span><span class="linemarker">   </span><span class="line">            <span class="mxinfo" id="T5:U206"><span class="mxinfo" id="T5:U33"><span class="var type1" id="S42T5U269">n2</span></span>=(<span class="mxinfo" id="T5:U208"><span class="var type2" id="S41T5U272">cp2</span>/<span class="mxinfo" id="T4:U210">norm(<span class="var type2" id="S41T5U275">cp2</span>)</span></span>)</span>;</span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',46);">  46</a></span><span class="linemarker">   </span><span class="line"></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',47);">  47</a></span><span class="linemarker">   </span><span class="line">            <span class="mxinfo" id="T5:U212"><span class="mxinfo" id="T5:U34"><span class="var type1" id="S43T5U278">Bs1</span></span>=<span class="mxinfo" id="T5:U214"><span class="mxinfo" id="T5:U215"><span class="var type2" id="S42T5U281">n2</span>*<span class="var type2" id="S30T4U282">h</span></span>+<span class="var type2" id="S35T5U283">L</span></span></span>;</span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',48);">  48</a></span><span class="linemarker">   </span><span class="line">            <span class="mxinfo" id="T5:U219"><span class="mxinfo" id="T5:U35"><span class="var type1" id="S44T5U286">Bs2</span></span>=<span class="mxinfo" id="T5:U221">(<span class="mxinfo" id="T5:U222"><span class="mxinfo" id="T5:U223"><span class="var type2" id="S42T5U291">n2</span>*(<span class="mxinfo" id="T4:U225">-1</span>)</span>*<span class="var type2" id="S30T4U295">h</span></span>)+<span class="var type2" id="S35T5U296">L</span></span></span>;</span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',49);">  49</a></span><span class="linemarker">   </span><span class="line"></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',50);">  50</a></span><span class="linemarker">   </span><span class="line">            <span class="mxinfo" id="T4:U228"><span class="mxinfo" id="T4:U36"><span class="var type1" id="S45T4U299">sb1</span></span>=<span class="mxinfo" id="T4:U230">norm(<span class="mxinfo" id="T5:U231"><span class="var type2" id="S43T5U303">Bs1</span>-<span class="var type2" id="S25T5U304">T</span></span>)</span></span>;</span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',51);">  51</a></span><span class="linemarker">   </span><span class="line">            <span class="mxinfo" id="T4:U234"><span class="mxinfo" id="T4:U37"><span class="var type1" id="S46T4U307">sb2</span></span>=<span class="mxinfo" id="T4:U236">norm(<span class="mxinfo" id="T5:U237"><span class="var type2" id="S44T5U311">Bs2</span>-<span class="var type2" id="S25T5U312">T</span></span>)</span></span>;</span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',52);">  52</a></span><span class="linemarker">   </span><span class="line"></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',53);">  53</a></span><span class="linemarker">   </span><span class="line">            <span class="keyword">if</span> <span class="mxinfo" id="T6:U240"><span class="var type2" id="S45T4U316">sb1</span>&gt;<span class="var type2" id="S46T4U317">sb2</span></span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',54);">  54</a></span><span class="linemarker">   </span><span class="line">                <span class="mxinfo" id="T5:U243"><span class="var type2" id="S39T5U320">B</span>=<span class="var type2" id="S43T5U321">Bs1</span></span>;</span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',55);">  55</a></span><span class="linemarker">   </span><span class="line">            <span class="keyword">else</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',56);">  56</a></span><span class="linemarker">   </span><span class="line">                <span class="mxinfo" id="T5:U246"><span class="var type2" id="S39T5U325">B</span>=<span class="var type2" id="S44T5U326">Bs2</span></span>;</span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',57);">  57</a></span><span class="linemarker">   </span><span class="line">            <span class="keyword">end</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',58);">  58</a></span><span class="linemarker">   </span><span class="line"></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',59);">  59</a></span><span class="linemarker">   </span><span class="line">            <span class="keyword">if</span> ~isreal(<span class="var type2" id="S39T5U332">B</span>)</span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',60);">  60</a></span><span class="linemarker">   </span><span class="line">                <span class="comment">%disp('not real');</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',61);">  61</a></span><span class="linemarker">   </span><span class="line">            <span class="keyword">end</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',62);">  62</a></span><span class="linemarker">   </span><span class="line"></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',63);">  63</a></span><span class="linemarker">   </span><span class="line">        <span class="keyword">end</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',64);">  64</a></span><span class="linemarker">   </span><span class="line">        <span class="keyword">if</span> <span class="mxinfo" id="T6:U249"><span class="var type2" id="S9T4U336">ff</span>==<span class="mxinfo" id="T4:U251">1</span></span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',65);">  65</a></span><span class="linemarker">   </span><span class="line">           <span class="mxinfo" id="T8:U252"><span class="mxinfo" id="T8:U253"><span class="var type2" id="S2T1U341">joints</span>(<span class="var type2" id="S9T4U342">ff</span>,6,1:3)</span>=<span class="var type2" id="S35T5U347">L</span></span>; <span class="comment">% B is the joint phalanx medialis</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',66);">  66</a></span><span class="linemarker">   </span><span class="line">        <span class="keyword">else</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',67);">  67</a></span><span class="linemarker">   </span><span class="line">           <span class="mxinfo" id="T8:U255"><span class="mxinfo" id="T8:U256"><span class="var type2" id="S2T1U352">joints</span>(<span class="var type2" id="S9T4U353">ff</span>,6,1:3)</span>=<span class="var type2" id="S39T5U358">B</span></span>; <span class="comment">% B is the joint phalanx medialis</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',68);">  68</a></span><span class="linemarker">   </span><span class="line">        <span class="keyword">end</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',69);">  69</a></span><span class="linemarker">   </span><span class="line">        <span class="mxinfo" id="T8:U258"><span class="mxinfo" id="T8:U259"><span class="var type2" id="S2T1U362">joints</span>(<span class="var type2" id="S9T4U363">ff</span>,4,1:3)</span>=<span class="var type2" id="S25T5U368">T</span></span>;</span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',70);">  70</a></span><span class="linemarker">   </span><span class="line">        <span class="mxinfo" id="T8:U261"><span class="mxinfo" id="T8:U262"><span class="var type2" id="S2T1U372">joints</span>(<span class="var type2" id="S9T4U373">ff</span>,5,1:3)</span>=<span class="var type2" id="S24T5U378">C</span></span>;</span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',71);">  71</a></span><span class="linemarker">   </span><span class="line"></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',72);">  72</a></span><span class="linemarker">   </span><span class="line"></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',73);">  73</a></span><span class="linemarker">   </span><span class="line"><span class="comment">%         % ANGLES</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',74);">  74</a></span><span class="linemarker">   </span><span class="line"><span class="comment">%         AC=C-A;</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',75);">  75</a></span><span class="linemarker">   </span><span class="line"><span class="comment">%         AB=B-A;</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',76);">  76</a></span><span class="linemarker">   </span><span class="line"><span class="comment">%         BC=C-B;</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',77);">  77</a></span><span class="linemarker">   </span><span class="line"><span class="comment">%         UW=W-U;</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',78);">  78</a></span><span class="linemarker">   </span><span class="line"></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',79);">  79</a></span><span class="linemarker">   </span><span class="line"><span class="comment">%         if ff==1</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',80);">  80</a></span><span class="linemarker">   </span><span class="line"><span class="comment">%             angles(ff,1)=AC(3)/abs(AC(3))*acos(dot([0,0,1],[0,AC(2),AC(3)])/(norm([0,0,1])*norm([0,AC(2),AC(3)]))); %spread; </span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',81);">  81</a></span><span class="linemarker">   </span><span class="line"><span class="comment">%             angles(ff,2)=AC(2)/abs(AC(2))*acos(dot([0,0,1],[AC(1),0,AC(3)])/(norm([0,0,1])*norm([AC(1),0,AC(3)]))); %finger angle; angle between z-vector and ab projection to x-z plane</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',82);">  82</a></span><span class="linemarker">   </span><span class="line"><span class="comment">%             angles(ff,3)=UW(1)/abs(UW(1))*acos(dot(BC,UW)/(norm(BC)*norm(UW))); %finger angle; angle between z-vector and uw projection to x-z plane</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',83);">  83</a></span><span class="linemarker">   </span><span class="line"><span class="comment">%             %disp([num2str(rad2deg(local.ang(ff,1))) ' ' num2str(rad2deg(local.ang(ff,2))) ' ' num2str(rad2deg(local.ang(ff,3))) ' ' num2str(rad2deg(local.ang(ff,4))) ' ' ]);</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',84);">  84</a></span><span class="linemarker">   </span><span class="line"><span class="comment">%             %disp(num2str(rad2deg(local.ang(ff,4))));</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',85);">  85</a></span><span class="linemarker">   </span><span class="line"><span class="comment">%         else</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',86);">  86</a></span><span class="linemarker">   </span><span class="line"><span class="comment">%             angles(ff,1)=AC(2)/abs(AC(2))*acos(dot([1,0,0],[AC(1),AC(2),0])/(norm([1,0,0])*norm([AC(1),AC(2),0]))); %spread; </span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',87);">  87</a></span><span class="linemarker">   </span><span class="line"><span class="comment">%             angles(ff,2)=AB(1)/abs(AB(1))*acos(dot([0,0,1],[AB(1),0,AB(3)])/(norm([0,0,1])*norm([AB(1),0,AB(3)])));  %finger angle; angle between z-vector and AB projection to x-z plane</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',88);">  88</a></span><span class="linemarker">   </span><span class="line"><span class="comment">%             angles(ff,3)=BC(1)/abs(BC(1))*acos(dot([0,0,1],[BC(1),0,BC(3)])/(norm([0,0,1])*norm([BC(1),0,BC(3)]))); %finger angle; angle between z-vector and BC projection to x-z plane</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',89);">  89</a></span><span class="linemarker">   </span><span class="line"><span class="comment">%             angles(ff,4)=UW(2)/abs(UW(2))*acos(dot([0,0,1],[0,UW(2),UW(3)])/(norm([0,0,1])*norm([0,UW(2),UW(3)]))); %finger angle; angle between z-vector and UW projection to x-z plane</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',90);">  90</a></span><span class="linemarker">   </span><span class="line"><span class="comment">%         end</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',91);">  91</a></span><span class="linemarker">   </span><span class="line"><span class="comment">%         </span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',92);">  92</a></span><span class="linemarker">   </span><span class="line">        </span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',93);">  93</a></span><span class="linemarker">   </span><span class="line"><span class="comment">%         angab=rad2deg(acos(dot([0,1,0],[AB(1),AB(2),0])/(norm([0,1,0])*norm([AB(1),AB(2),0]))));</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',94);">  94</a></span><span class="linemarker">   </span><span class="line"><span class="comment">%         angbc=rad2deg(acos(dot([0,1,0],[BC(1),BC(2),0])/(norm([0,1,0])*norm([BC(1),BC(2),0]))));</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',95);">  95</a></span><span class="linemarker">   </span><span class="line"><span class="comment">%         angct=rad2deg(acos(dot([0,1,0],[UW(1),UW(2),0])/(norm([0,1,0])*norm([UW(1),UW(2),0]))));</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',96);">  96</a></span><span class="linemarker">   </span><span class="line"><span class="comment">%         </span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',97);">  97</a></span><span class="linemarker">   </span><span class="line"><span class="comment">%         global ANGLE</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',98);">  98</a></span><span class="linemarker">   </span><span class="line"><span class="comment">%         global COUNT</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',99);">  99</a></span><span class="linemarker">   </span><span class="line"><span class="comment">%         global SPEED</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',100);"> 100</a></span><span class="linemarker">   </span><span class="line"><span class="comment">%         ANGLE(COUNT,1)=angab;</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',101);"> 101</a></span><span class="linemarker">   </span><span class="line"><span class="comment">%         ANGLE(COUNT,2)=angbc;</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',102);"> 102</a></span><span class="linemarker">   </span><span class="line"><span class="comment">%         ANGLE(COUNT,3)=angct;</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',103);"> 103</a></span><span class="linemarker">   </span><span class="line">        </span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',104);"> 104</a></span><span class="linemarker">   </span><span class="line">        </span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',105);"> 105</a></span><span class="linemarker">   </span><span class="line"><span class="comment">%%         For accuracy evaluation        </span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',106);"> 106</a></span><span class="linemarker">   </span><span class="line"><span class="comment">%         ANGLE_NEW=circshift(ANGLE_NEW,1);</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',107);"> 107</a></span><span class="linemarker">   </span><span class="line"><span class="comment">%         ang=rad2deg(BC(2)/abs(BC(2))*acos(dot([0,0,1],[0,BC(2),BC(3)])/(norm([0,0,1])*norm([0,BC(2),BC(3)]))));</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',108);"> 108</a></span><span class="linemarker">   </span><span class="line"><span class="comment">%         ANGLE_NEW(1,1)=ang;</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',109);"> 109</a></span><span class="linemarker">   </span><span class="line"><span class="comment">%         outputangle=mean(ANGLE_NEW);</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',110);"> 110</a></span><span class="linemarker">   </span><span class="line"><span class="comment">%         disp(outputangle);</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',111);"> 111</a></span><span class="linemarker">   </span><span class="line">    <span class="keyword">else</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',112);"> 112</a></span><span class="linemarker">   </span><span class="line">        <span class="mxinfo" id="T8:U264"><span class="var type2" id="S2T1U383">joints</span>(<span class="var type2" id="S9T4U384">ff</span>,4,1:3)=NaN</span>;  <span class="comment">% T</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',113);"> 113</a></span><span class="linemarker">   </span><span class="line">        <span class="mxinfo" id="T8:U265"><span class="var type2" id="S2T1U394">joints</span>(<span class="var type2" id="S9T4U395">ff</span>,5,1:3)=NaN</span>;  <span class="comment">% C</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',114);"> 114</a></span><span class="linemarker">   </span><span class="line">        <span class="mxinfo" id="T8:U266"><span class="var type2" id="S2T1U405">joints</span>(<span class="var type2" id="S9T4U406">ff</span>,6,1:3)=NaN</span>;  <span class="comment">% B</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',115);"> 115</a></span><span class="linemarker">   </span><span class="line">        <span class="mxinfo" id="T7:U267"><span class="var type2" id="S3T2U416">angles</span>(<span class="var type2" id="S9T4U417">ff</span>,1)=NaN</span>;</span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',116);"> 116</a></span><span class="linemarker">   </span><span class="line">        <span class="mxinfo" id="T7:U268"><span class="var type2" id="S3T2U424">angles</span>(<span class="var type2" id="S9T4U425">ff</span>,2)=NaN</span>;</span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',117);"> 117</a></span><span class="linemarker">   </span><span class="line">        <span class="mxinfo" id="T7:U269"><span class="var type2" id="S3T2U432">angles</span>(<span class="var type2" id="S9T4U433">ff</span>,3)=NaN</span>;</span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',118);"> 118</a></span><span class="linemarker">   </span><span class="line">        <span class="mxinfo" id="T7:U270"><span class="var type2" id="S3T2U440">angles</span>(<span class="var type2" id="S9T4U441">ff</span>,4)=NaN</span>;</span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',119);"> 119</a></span><span class="linemarker">   </span><span class="line">        </span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',120);"> 120</a></span><span class="linemarker">   </span><span class="line">    <span class="keyword">end</span>  </span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',121);"> 121</a></span><span class="linemarker">   </span><span class="line"><span class="keyword">end</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',122);"> 122</a></span><span class="linemarker">   </span><span class="line"></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',123);"> 123</a></span><span class="linemarker">   </span><span class="line"></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',124);"> 124</a></span><span class="linemarker">   </span><span class="line"></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',125);"> 125</a></span><span class="linemarker">   </span><span class="line"></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',126);"> 126</a></span><span class="linemarker">   </span><span class="line"><span class="comment">% LHO.fingerjoints=joints;</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',127);"> 127</a></span><span class="linemarker">   </span><span class="line"><span class="comment">% LHO.fingerangles=angles;</span></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',128);"> 128</a></span><span class="linemarker">   </span><span class="line"></span>
<span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','C:/Users/Schaffelhofer/Desktop/Tracking Toolbox 1.3/KinemaTracks/@handobj/calculateJointPhalanxMedialis.m',129);"> 129</a></span><span class="linemarker">   </span><span class="line"><span class="keyword">end</span></span>
</pre>
